<p class="title is-3">{{'GENERAL_INFORMATION_BOX' | translate}}</p>


<form [formGroup]="generalForm">
  <osem-form-input 
    [typeString]="'text'"
    [label]="'NAME' | translate"
    [controlName]="'name'" 
    [control]="generalForm.controls.name">

  </osem-form-input>
 
  <div class="field">
    <label class="label">{{'EXPOSURE' | translate}}</label>
    <div class="field-body">
      <div class="control">
        <div class="select">
          <select [formControl]="generalForm.controls.exposure">
            <option value="outdoor">{{'OUTDOOR' | translate}}</option>
            <option value="indoor">{{'INDOOR' | translate}}</option>
            <option value="mobile">{{'MOBILE' | translate}}</option>
          </select>
        </div>
      </div>
    </div>
    <osem-control-message [control]="generalForm.controls.exposure"></osem-control-message>
  </div>
<!-- 
  <div class="field" *ngIf="selectedDevice && (selectedDevice.iri === 'sensebox_home' || selectedDevice.iri === 'sensebox_edu')">
    <label class="label">{{'CONNECTION_TYPE' | translate}}</label>
    <div class="field-body">
      <div class="control">
        <div class="select">
          <select [formControl]="generalForm.controls.connection">
            <option value="wifi">{{'WIFI' | translate}}</option>
            <option value="lan">{{'LAN' | translate}}</option>
            <option value="lora">{{'LORA' | translate}}</option>
          </select>
        </div>
      </div>
    </div>
    <osem-control-message [control]="generalForm.controls.exposure"></osem-control-message>
  </div> -->

  <div class="field">
    <label class="label">Tags</label>
    <div class="control">
      <input 
        class="input" 
        type="text" 
        list="SearchResults"
        (keyup)="searchTagsOnKeyUp($event)"
        (keyup.enter)="addToTags($event)"
        placeholder="Tags"/>  
    </div>
  </div>
  <datalist id="SearchResults">
    <option *ngFor="let sr of results" [value]="sr">
      {{sr}}
    </option>
 </datalist>
 <div class="field is-grouped is-grouped-multiline">
  <div *ngFor="let tag of tags" class="control">
    <div class="tags has-addons">
      <a class="tag is-primary">{{tag}}</a>
      <a (click)="onDeleteTag(tag)" class="tag is-delete"></a>
    </div>
  </div>
</div>
  <div class="field">
    <label class="label">{{'DESCRIPTION' | translate}}</label>
    <div class="control">
        <textarea 
          [formControl]="generalForm.controls.description"
          class="textarea" 
          placeholder="{{'BOX_DESCRIPTION' | translate}}"></textarea>
    </div>
  </div>
</form>

<button
  [disabled]="!generalForm.valid"
  class="button is-primary is-pulled-right"
  [routerLink]="['../sensors']"
  queryParamsHandling="preserve"
  >
  {{'NEXT' | translate}}</button>
